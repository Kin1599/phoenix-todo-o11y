<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>ğŸ” O11ySheet Platform</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <h1>ğŸ” O11ySheet Platform</h1>

    <div class="section green">
      <h2>ğŸš€ ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ ÑĞµÑ€Ğ²Ğ¸ÑÑ‹</h2>
      <div class="grid">
        <a data-path=":4000/swagger/index.html#/" class="card">ğŸ“„ TodoTask Swagger</a>
        <a data-path=":8081" class="card">ğŸ”¥ Load Generator</a>
        <a data-path=":4000/api/ping" class="card">ğŸ’š Health Check</a>
      </div>

      <div class="accordion">
        <button onclick="toggleMetrics()">ğŸ“Š Prometheus Metrics â–¼</button>
        <div id="metrics-list" class="hidden">
          <div class="metrics-grid">
            <a data-path=":4000/metrics" class="metric-card">
              <span>ğŸ“¦</span>
              <strong>todo_task_manager</strong><br><small>(elixir)</small>
            </a>
            <a data-path=":8081/metrics" class="metric-card">
              <span>ğŸš€</span>
              <strong>load-generator</strong>
            </a>
            <a data-path=":8080/_status/vars" class="metric-card">
              <span>ğŸ—ƒï¸</span>
              <strong>cockroachdb</strong>
            </a>
          </div>
        </div>
      </div>
    </div>

    <div class="section blue">
      <h2>ğŸ“Š ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ¸ ĞĞ»ĞµÑ€Ñ‚Ñ‹</h2>
      <div class="grid">
        <a data-path=":3000" class="card">ğŸ“‰ Grafana</a>
        <a data-path=":9090/query" class="card">ğŸ“¡ Prometheus</a>
        <a data-path=":9093/#/alerts" class="card">ğŸš¨ Alertmanager</a>
        <a data-path=":16686" class="card">ğŸ§µ Jaeger Tracing</a>
      </div>
    </div>

    <div class="section yellow">
      <h2>ğŸ§­ ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ</h2>
      <div class="grid">
        <a data-path=":8080/#/overview/list" class="card">ğŸ›¢ï¸ Cockroach Admin</a>
        <a data-path=":9000" class="card">âš“ Portainer</a>
      </div>
    </div>
  </div>

  <footer>
    <p>ğŸ“š Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ: <a href="https://github.com/Kin1599/phoenix-todo-o11y/blob/main/README.md" target="_blank">README</a></p>
  </footer>

  <script>
    const BASE_URL = "http://localhost";

    window.onload = function () {
      document.querySelectorAll('a[data-path]').forEach(a => {
        const path = a.getAttribute('data-path');
        a.href = BASE_URL + path;
        a.target = "_blank";
      });
    };

    function toggleMetrics() {
      document.getElementById("metrics-list").classList.toggle("hidden");
    }
  </script>
</body>
</html>
